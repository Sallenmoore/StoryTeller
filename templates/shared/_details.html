{% import "shared/_display.html" as display_components %}
{% import "shared/_icons.html" as icon_components %}
{% import "shared/_form.html" as form_components %}

{% macro details(user, obj) -%}
<title>{{obj.name or obj.title}} - Details</title>
<div class="callout white">
    <div class="grid-x align-center">
        <div class="cell align-center-middle">
            <h2>Details</h2>
        </div>
        {% if obj.traits %}
        <div class="cell shrink">
            <span class="label">{{obj.traits}}</span>
        </div>
        {% endif %}
    </div>
    {%if obj.model_name() not in ["World", "Creature", "Encounter"] %}
    <div class="grid-x align-center">
        {% if obj.start_date and obj.start_date.year > 0 %}
        <div class="cell shrink">
            <h4>{{obj.start_date_label}}</h4>
        </div>
        <div class="cell shrink">
            <h3>{{obj.start_date}}</h3>
        </div>
        {% endif %}
        {% if obj.end_date and obj.end_date.year > 0 %}
        <div class="cell shrink">
            <h3>- {{obj.end_date}}
            </h3>
        </div>
        <div class="cell shrink">
            <h4>{{obj.end_date_label}}</h4>
        </div>
        {% endif %}
    </div>
    {%endif%}
    <hr>
    <span hx-get="/api/{{obj.path}}/info" hx-trigger="load" hx-swap="outerHTML"></span>
    <hr>
    <div class="callout generated-text-lightbg">
        <h3 class='text-center'>Backstory</h3>
        {{obj.backstory | safe}}
    </div>
    <hr>
    <div class="callout generated-text-lightbg">
        <h3 class='text-center'>Description</h3>
        {{obj.description | safe}}
    </div>
</div>
{%- endmacro %}