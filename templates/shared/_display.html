{% macro object_display(obj, size="medium", dim="100", name=True, type=True) -%}
<a href="/{{obj.path}}" target='_blank'>
    <div class="image is-{{size}} is-thumbnail is-margin-center">
        {% if obj.image %}
        <img src="{{obj.image.url(size=dim)}}" loading="lazy" alt="{{obj.name}}"
             style="width:100%;height:100%;" />
        {% endif %}
    </div>
    {% if name %}
    <h5 class='has-text-center'>
        {% if obj.name %}
        {{obj.name}}
        {% else %}
        New {{obj.title}}
        {% endif %}
    </h5>
    {% endif %}
    {% if type %}
    <h6 class='has-text-center'>
        {{obj.title}}
    </h6>
    {% endif %}
</a>
{% endmacro %}

{% macro card(obj) %}
<div id="object-card-{{obj.pk}}" class='row has-bg-white initiative-card'>
    <div class="column is-full">
        <h1 class='has-text-center has-text-dark'>
            {{obj.name}}
        </h1>
        <a href='/{{obj.path}}' target='_blank'>
            <div class="row">
                <div class="column is-full">
                    <div class="row has-centered">
                        <div class="column is-6">
                            {% if obj.image %}
                            <div class='image is-extra-large'>
                                <img src="{{obj.image.url()}}" alt="{{obj.name}}" />
                            </div>
                            {% endif %}
                        </div>
                        <div class="column is-shrink">
                            <div class="row">
                                {% if obj.model_name() in ['Character', 'Creature'] %}
                                <div class="column is-full has-text-center has-text-dark">
                                    <div class="row has-space-around">
                                        <div class="column is-4 is-mobile-3">
                                            <h4 class="has-text-dark">STR</h4>
                                            <p>{{obj.strength}} ({{(obj.strength|int-10)//2}})</p>
                                        </div>
                                        <div class="column is-4 is-mobile-3">
                                            <h4 class="has-text-dark">DEX</h4>
                                            <p>{{obj.dexterity}} ({{(obj.dexterity|int-10)//2}})</p>
                                        </div>
                                        <div class="column is-4 is-mobile-3">
                                            <h4 class="has-text-dark">INT</h4>
                                            <p>{{obj.intelligence}}
                                                ({{(obj.intelligence|int-10)//2}})</p>
                                        </div>
                                        <div class="column is-4 is-mobile-3">
                                            <h4 class="has-text-dark">WIS</h4>
                                            <p>{{obj.wisdom}} ({{(obj.wisdom|int-10)//2}})</p>
                                        </div>
                                        <div class="column is-4 is-mobile-3">
                                            <h4 class="has-text-dark">CHA</h4>
                                            <p>{{obj.charisma}} ({{(obj.charisma|int-10)//2}})</p>
                                        </div>
                                        <div class="column is-4 is-mobile-3">
                                            <h4 class="has-text-dark">CON</h4>
                                            <p>{{obj.constitution}}
                                                ({{(obj.constitution|int-10)//2}})</p>
                                        </div>
                                    </div>
                                </div>
                                {% endif %}
                                <div class="column is-full has-text-center has-text-dark">
                                    <div class="row has-space-around">
                                        <div class="column">
                                            <h4 class='has-text-dark'>MAX HP</h4>
                                            <h5 class='has-text-dark'>{{obj.hitpoints}}</h5>
                                        </div>
                                        <div class="column">
                                            <h4 class='has-text-dark'>AC</h4>
                                            <h5 class='has-text-dark'>{{obj.ac}}</h5>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="column has-text-center has-text-dark">
                    <div class="row">
                        <div class="column is-full has-text-dark has-text-justified">
                            <h2 class='has-text-dark'>History</h2>
                            {{obj.history | safe }}
                        </div>
                    </div>
                </div>
                <div class="column has-text-center has-text-dark">
                    <h2>Abilities</h2>
                    <div class="row">
                        {% for a in obj.abilities%}
                        <div class="column is-full has-text-dark has-text-justified">
                            {{a | safe }}
                        </div>
                        {% endfor %}
                    </div>
                </div>

            </div>
        </a>
    </div>
</div>
{% endmacro %}