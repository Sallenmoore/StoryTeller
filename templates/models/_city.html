{% import "shared/_form.html" as form_components %}

{% macro gmnotes(user, obj) -%}
<div id="gmnotes" lass="panel has-bg-dark generated-text-darkbg">
    <h3 class='has-text-center'>GM Notes</h3>
    <div class="row">
        <div class="column is-half">
            <h5> Details</h5>
            <div class="panel">
                <ul>
                    <li>{{obj.description_summary | safe}}</li>
                    {% for sd in obj.sensory_details %}
                    <li>{{ sd | safe }}</li>
                    {% endfor %}
                </ul>
            </div>
        </div>
        <div class="column is-half">
            <h5>Recent Events</h5>
            <div class="panel">
                <ul>
                    {% for sd in obj.recent_events %}
                    <li>{{ sd | safe }}</li>
                    {% endfor %}
                </ul>
            </div>
        </div>
        <div class="column is-full">
            <h5>Rumors</h5>
            <div class="panel">
                <ul>
                    {% for r in obj.rumors %}
                    <li>
                        {{ r | safe }}
                    </li>
                    {% endfor %}
                </ul>
            </div>
        </div>
        {% endif %}
    </div>
</div>
{%- endmacro %}

{% macro info(user, obj) -%}
<div class="row has-space-around">
    <div class="column is-4">
        <div class="card ">
            <div class="card__header is-vertically-centered has-bg-secondary">
                <h3 class="has-text-muted">Population</h3>
            </div>
            <div class="card__content is-vertically-centered has-bg-light has-text-center">
                <h1 class='has-text-dark'>{{obj.population}}</h1>
            </div>
        </div>
    </div>
    <div class="column is-full">
        <div class="card has-bg-light">
            <div class="card__header is-vertically-centered has-bg-secondary">
                <h3 class="has-text-muted">Culture</h3>
            </div>
            <div class="card__content has-bg-light">
                <p class="has-text-dark">{{obj.culture | safe}}</p>
            </div>
        </div>
    </div>
    <div class="column is-full">
        <div class="card has-bg-light">
            <div class="card__header is-vertically-centered has-bg-secondary">
                <h3 class="has-text-muted">Government</h3>
            </div>
            <div class="card__content has-bg-light">
                <p class="has-text-dark">{{obj.government | safe}}</p>
            </div>
        </div>
    </div>
    <div class="column is-full">
        <div class="card has-bg-light">
            <div class="card__header is-vertically-centered has-bg-secondary">
                <h3 class="has-text-muted">Religion</h3>
            </div>
            <div class="card__content has-bg-light">
                <p class="has-text-dark">{{obj.religion | safe}}</p>
            </div>
        </div>
    </div>
</div>
{%- endmacro %}

{% macro manage_details(user, obj) -%}
<form hx-post="/api/manage/update"
      hx-swap="none" hx-trigger="input delay:1s, change">
    <div class="row has-space-around">
        <div class="column is-4">
            <div class="card has-bg-light">
                <div class="card__header is-vertically-centered">
                    <h3 class="has-text-dark">Population</h3>
                </div>
                <div class="card__content has-bg-secondary">
                    <input class="has-text-center has-bg-light" type="number"
                           value="{{obj.population}}"
                           name="population" style='font-size: 3rem;'>
                </div>
            </div>
        </div>
    </div>
    <div class="column is-full">
        <h3 class="has-text-screen">Culture</h3>
        {{form_components.texteditor(user, obj, "culture")}}
    </div>
    <div class="column is-full">
        <h3 class="has-text-screen">Government</h3>
        {{form_components.texteditor(user, obj, "government")}}
    </div>
    <div class="column is-full">
        <h3 class="has-text-screen">Religion</h3>
        {{form_components.texteditor(user, obj, "religion")}}
    </div>
</form>
{%- endmacro %}