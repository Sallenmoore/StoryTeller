{% import "shared/_form.html" as form_components %}
{% import "shared/_icons.html" as icon_components %}
{% import "shared/_manage.html" as manage_components %}

{% macro manage(user, obj) -%}
{{manage_components.manage(user, obj)}}
{{manage_components.dates(user, obj)}}
<form hx-post="/api/manage/update" hx-swap="none" hx-trigger="input delay:1s, change">
    <div class="row">
        <div id="model-slogan" class="column">
            <h4>Slogan</h4>
            <input type="text" name="slogan" value="{{obj.slogan}}">
        </div>
        <div class="column is-shrink ">
            <div class="panel">
                <h4 class='has-text-center has-text-muted'>Adventuring Party?</h4>
                <div class="is-select">
                    <select class="has-no-border" name="is_player_faction">
                        <option value="False">---</option>
                        <option value="True" {%if obj.is_player_faction %} selected {%endif%}>
                            Adventuring Party</option>
                    </select>
                </div>
            </div>
        </div>
        <div id="model-goal" class="column is-full">
            <h4 class='has-text-center'>Goals and Secrets</h4>
            {{form_components.texteditor(user, obj, "goal")}}
        </div>
    </div>
</form>
{{manage_components.backstory(user, obj)}}
{{manage_components.image(user, obj)}}
{%- endmacro %}