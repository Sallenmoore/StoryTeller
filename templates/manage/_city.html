{% import "shared/_form.html" as form_components %}
{% import "shared/_icons.html" as icon_components %}
{% import "shared/_manage.html" as manage_components %}

{% macro manage(user, obj) -%}
{{manage_components.manage(user, obj)}}
{{manage_components.dates(user, obj)}}
<form hx-post="/api/manage/update"
      hx-swap="none" hx-trigger="input delay:1s, change">
    <div class="grid-x align-spaced">
        <div class="cell medium-4">
            <div class="card">
                <div class="card__header align-center-middle">
                    <h3>Population</h3>
                </div>
                <div class="card__content">
                    <input class="text-center" type="number"
                           value="{{obj.population}}"
                           name="population" style='font-size: 3rem;'>
                </div>
            </div>
        </div>
    </div>
    <div class="cell">
        <h3>Culture</h3>
        {{form_components.richtexteditor(user, obj, "culture")}}
    </div>
    <div class="cell">
        <h3>Government</h3>
        {{form_components.richtexteditor(user, obj, "government")}}
    </div>
    <div class="cell">
        <h3>Religion</h3>
        {{form_components.richtexteditor(user, obj, "religion")}}
    </div>
</form>
{{manage_components.backstory(user, obj)}}
{{manage_components.image(user, obj)}}
{%- endmacro %}